{"version":3,"sources":["js/index.js"],"names":["songs","currentSong","audio","Audio","volume","divText","document","querySelector","buttons","play","pause","prev","next","stop","fnPlay","prepareSong","putText","fnPause","fnPrev","length","fnNext","fnStop","currentTime","changeVolume","vol","name","innerHTML","fnVolume","bind","nameSong","cleanName","unescape","pos","lastIndexOf","miniName","substring","replace","addEventListener"],"mappings":";AAAA,IAAMA,EAAQ,CACZ,mFAAoF,gEAAiE,kEAGnJC,EAAc,EACdC,EAAQ,IAAIC,MAAMH,EAAMC,IAC5BC,EAAME,OAAS,GAEf,IAAMC,EAAUC,SAASC,cAAc,SACjCC,EAAU,CACdC,KAAMH,SAASC,cAAc,SAC7BG,MAAOJ,SAASC,cAAc,UAC9BI,KAAML,SAASC,cAAc,SAC7BK,KAAMN,SAASC,cAAc,SAC7BM,KAAMP,SAASC,cAAc,SAC7BH,OAAQE,SAASC,cAAc,YAGjC,SAASO,IACPC,IACAb,EAAMO,OACNO,IAGF,SAASD,IACPE,KACAf,EAAQ,IAAIC,MAAMH,EAAMC,KAClBG,OAAS,GAGjB,SAASa,IACPf,EAAMQ,QAGR,SAASQ,MACPjB,EAEkB,IAChBA,EAAcD,EAAMmB,OAAS,GAG/BL,IAGF,SAASM,MACPnB,GAEmBD,EAAMmB,SACvBlB,EAAc,GAGhBa,IAGF,SAASO,IACPnB,EAAMoB,YAAc,EACpBL,IAGF,SAASM,EAAaC,EAAKC,GACzBvB,EAAME,OAASoB,EACfhB,EAAQJ,OAAOsB,UAAuCD,2BAAAA,OAAAA,EAAtD,UAGF,SAASE,KAsDO,CACPJ,GAAAA,EAAaK,KAAK,KAAM,EAAG,MAC7BL,EAAAA,EAAaK,KAAK,KAAM,EAAG,QAC3BL,EAAAA,EAAaK,KAAK,KAAM,GAAK,UAE5B1B,EAAME,UAId,SAASY,IACDa,IAAAA,EAAW7B,EAAMC,GACjB6B,EAAYC,SAASF,GACrBG,EAAMF,EAAUG,YAAY,KAAO,EAEnCC,EADYJ,EAAUK,UAAUH,GACXI,QAAQ,OAAQ,IAC3C/B,EAAQqB,UAAYQ,EAGtB1B,EAAQC,KAAK4B,iBAAiB,QAASvB,GACvCN,EAAQE,MAAM2B,iBAAiB,QAASpB,GACxCT,EAAQG,KAAK0B,iBAAiB,QAASnB,GACvCV,EAAQI,KAAKyB,iBAAiB,QAASjB,GACvCZ,EAAQK,KAAKwB,iBAAiB,QAAShB,GACvCb,EAAQJ,OAAOiC,iBAAiB,QAASV","file":"js.4757d318.js","sourceRoot":"..\\src","sourcesContent":["const songs = [\r\n  'https://scummbar.com/mi2/MI1-CD/01%20-%20Opening%20Themes%20-%20Introduction.mp3', 'https://scummbar.com/mi2/MI1-CD/02%20-%20Chapter%20Screen.mp3', 'https://scummbar.com/mi2/MI1-CD/03%20-%20The%20Scumm%20Bar.mp3'\r\n];\r\n\r\nlet currentSong = 0;\r\nlet audio = new Audio(songs[currentSong]); // Descarga la primera canción\r\naudio.volume = 0.5;\r\n\r\nconst divText = document.querySelector('.text');\r\nconst buttons = {\r\n  play: document.querySelector('.play'),\r\n  pause: document.querySelector('.pause'),\r\n  prev: document.querySelector('.prev'),\r\n  next: document.querySelector('.next'),\r\n  stop: document.querySelector('.stop'),\r\n  volume: document.querySelector('.volume')\r\n};\r\n\r\nfunction fnPlay() {\r\n  prepareSong();\r\n  audio.play();\r\n  putText();\r\n}\r\n\r\nfunction prepareSong() {\r\n  fnPause();\r\n  audio = new Audio(songs[currentSong]);\r\n  audio.volume = 0.5;\r\n}\r\n\r\nfunction fnPause() {\r\n  audio.pause();\r\n}\r\n\r\nfunction fnPrev() {\r\n  currentSong--;\r\n\r\n  if (currentSong < 0) {\r\n    currentSong = songs.length - 1;\r\n  }\r\n\r\n  fnPlay();\r\n}\r\n\r\nfunction fnNext() {\r\n  currentSong++;\r\n\r\n  if (currentSong >= songs.length) {\r\n    currentSong = 0;\r\n  }\r\n\r\n  fnPlay();\r\n}\r\n\r\nfunction fnStop() {\r\n  audio.currentTime = 0;\r\n  fnPause();\r\n}\r\n\r\nfunction changeVolume(vol, name) {\r\n  audio.volume = vol;\r\n  buttons.volume.innerHTML = `<i class=\"fas fa-volume-${name}\"></i>`;\r\n}\r\n\r\nfunction fnVolume() {\r\n\r\n  // Way 1 (ERROR!!)\r\n  // if (audio.volume == 0.5) {\r\n  //     audio.volume = 1;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-up\"></i>';\r\n  // }\r\n  // if (audio.volume == 1) {\r\n  //     audio.volume = 0;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-mute\"></i>';\r\n  // }\r\n  // if (audio.volume == 0) {\r\n  //     audio.volume = 0.5;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-down\"></i>';\r\n  // }\r\n\r\n  // Way 2 (ELSE!)\r\n  // if (audio.volume == 0.5) {\r\n  //     audio.volume = 1;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-up\"></i>';\r\n  // } else if (audio.volume == 1) {\r\n  //     audio.volume = 0;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-mute\"></i>';\r\n  // } else if (audio.volume == 0) {\r\n  //     audio.volume = 0.5;\r\n  //     buttons.volume.innerHTML = '<i class=\"fas fa-volume-down\"></i>';\r\n  // }\r\n\r\n  // Way 3 (Refactor)\r\n  // En nuestro caso, se puede eliminar el último if\r\n  // if (audio.volume == 0.5)\r\n  //     changeVolume(1, 'up');\r\n  // else if (audio.volume == 1)\r\n  //     changeVolume(0, 'mute');\r\n  // else if (audio.volume == 0)\r\n  //     changeVolume(0.5, 'down');\r\n\r\n  // Way 4 (Switch)\r\n  // switch (audio.volume) {\r\n  //     case 0.5:\r\n  //         changeVolume(1, 'up');\r\n  //         break;\r\n  //     case 1:\r\n  //         changeVolume(0, 'mute');\r\n  //         break;\r\n  //     case 0:\r\n  //         changeVolume(0.5, 'down');\r\n  //         break;\r\n  //     default:\r\n  //         alert('ERROR: Esto no puede ocurrir');\r\n  //         break;\r\n  // }\r\n\r\n  // Way 5 (CRAZY JAVASCRIPT ULTIMATE REFACTOR)\r\n  const cases = {\r\n    0.5: changeVolume.bind(null, 1, 'up'),\r\n    1: changeVolume.bind(null, 0, 'mute'),\r\n    0: changeVolume.bind(null, 0.5, 'down')\r\n  };\r\n  cases[audio.volume]();\r\n\r\n}\r\n\r\nfunction putText() {\r\n  const nameSong = songs[currentSong];\r\n  const cleanName = unescape(nameSong);\r\n  const pos = cleanName.lastIndexOf('/') + 1;\r\n  const shortName = cleanName.substring(pos);\r\n  const miniName = shortName.replace('.mp3', '');\r\n  divText.innerHTML = miniName;\r\n}\r\n\r\nbuttons.play.addEventListener('click', fnPlay);\r\nbuttons.pause.addEventListener('click', fnPause);\r\nbuttons.prev.addEventListener('click', fnPrev);\r\nbuttons.next.addEventListener('click', fnNext);\r\nbuttons.stop.addEventListener('click', fnStop);\r\nbuttons.volume.addEventListener('click', fnVolume);"]}